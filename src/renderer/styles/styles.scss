/* Spinner icon and animation */
.icon-spinner {
	-webkit-mask: url('../../assets/icons/progress_activity_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain;
	mask: url('../../assets/icons/progress_activity_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain;
	color: var(--brand);
}
.spinning > .icon,
.icon-spinner,
.spinner-inline {
	animation: spin 1s linear infinite;
}
@keyframes spin {
	100% { transform: rotate(360deg); }
}

/* Encrypted lock icon for header */
.icon-lock {
	-webkit-mask: url('../../assets/icons/lock_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain;
	mask: url('../../assets/icons/lock_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain;
}
.encrypted-lock {
	color: var(--brand);
	width: 20px;
	height: 20px;
	margin-left: 8px;
	display: inline-block;
	vertical-align: middle;
}

/* Generic tooltip wrapper used for encrypted lock */
.tooltip {
	position: relative;
	display: inline-flex;
	align-items: center;
}
.tooltip-trigger { outline: none; }
.tooltip-bubble {
	position: absolute;
	top: 100%;
	left: 0; /* align under icon, expand to the right */
	transform: translate(8px, 8px);
	background: #0f1424;
	color: var(--text);
	border: 1px solid var(--border);
	padding: 8px 10px;
	border-radius: 8px;
	box-shadow: var(--shadow);
	font-size: 12px;
	white-space: nowrap;
	opacity: 0;
	pointer-events: none;
	transition: opacity 0.12s ease, transform 0.12s ease;
	z-index: 20;
}
.tooltip-bubble::after {
	content: "";
	position: absolute;
	top: -6px;
	left: 16px; /* arrow near left edge so it appears to open to the right */
	border-width: 6px;
	border-style: solid;
	border-color: transparent transparent #0f1424 transparent;
}
.tooltip:hover .tooltip-bubble,
.tooltip:focus-within .tooltip-bubble {
	opacity: 1;
	transform: translate(8px, 4px);
	pointer-events: auto;
}
@media (prefers-reduced-motion: reduce) {
	.tooltip-bubble { transition: none; }
}
:root {
	--bg: #0f1115;
	--panel: #151923;
	--panel-2: #1a2030;
	--text: #e6e9ee;
	--muted: #9aa4b2;
	--brand: #6ca2ff;
	--brand-700: #4a82e8;
	--success: #6ee7b7;
		--danger: #f87171;
		--danger-dark: #b91c1c;
	--ring: rgba(108, 162, 255, 0.45);
	--border: rgba(255, 255, 255, 0.08);
	--shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
}

* {
	box-sizing: border-box;
}

html, body, #root {
	height: 100%;
}

body {
	margin: 0;
	font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
	/* Smooth, subtle gradient with no banding or hard lines */
	background: linear-gradient(180deg, #0f1115 0%, #111521 35%, #131a2a 70%, #0f1115 100%);
	background-attachment: fixed; /* reduce apparent seams while scrolling */
	color: var(--text);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

.app-shell {
	min-height: 100%;
	display: grid;
	grid-template-rows: auto 1fr;
}

.app-header {
	position: sticky;
	top: 0;
	z-index: 10;
	padding: 20px clamp(16px, 4vw, 28px) 12px;
	background: linear-gradient(180deg, rgba(21, 25, 35, 0.9), rgba(21, 25, 35, 0.4) 70%, transparent);
	backdrop-filter: saturate(140%) blur(10px);
	border-bottom: 1px solid var(--border);
}

.header-bar {
	display: flex;
	align-items: flex-start;
	justify-content: space-between;
}

.header-right { display: inline-flex; gap: 8px; }
.settings-btn { color: var(--muted); }
.settings-btn:hover { color: var(--text); background: rgba(255,255,255,0.06); }

.app-header h1 {
	margin: 0 0 4px;
	font-size: clamp(18px, 3.2vw, 24px);
	letter-spacing: 0.2px;
}

.app-header .subtitle {
	margin: 0;
	color: var(--muted);
	font-size: 12px;
}

.header-actions {
	margin-top: 10px;
	display: flex;
	align-items: center;
	justify-content: flex-end; /* right side */
	gap: 10px;
}

.search-count {
	color: var(--muted);
	font-size: 12px;
	display: inline-flex;
	align-items: center;
	gap: 6px;
	min-height: 18px; /* reserve height so text doesn't shift when spinner appears */
}

.search-bar {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	background: #121828;
	border: 1px solid var(--border);
	border-radius: 12px;
	height: 36px; /* match dropdown height */
	padding: 0 8px 0 6px; /* center children vertically */
	width: clamp(240px, 30vw, 360px); /* keep width stable while typing */
}

.search-bar input[type="search"] {
	background: transparent;
	border: none;
	color: var(--text);
	outline: none;
	flex: 1 1 auto;
	min-width: 0;
	width: 100%;
}

/* Hide native search clear/decoration icons so only the custom clear button appears */
.search-bar input[type="search"]::-webkit-search-decoration,
.search-bar input[type="search"]::-webkit-search-cancel-button,
.search-bar input[type="search"]::-webkit-search-results-button,
.search-bar input[type="search"]::-webkit-search-results-decoration { display: none; }

.search-bar input[type="search"]::-ms-clear { display: none; width: 0; height: 0; }

.search-bar .search-btn {
	min-width: 32px;
	min-height: 32px;
}

.search-bar .search-btn.left {
	background: transparent;
	border-color: transparent;
}

.search-bar .search-btn.left:hover {
	background: rgba(108, 162, 255, 0.15);
	border-color: rgba(108, 162, 255, 0.35);
	color: var(--brand);
}

.filter-select {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	position: relative;
}

.filter-select .icon { color: var(--muted); display: inline-flex; }


.filter-select select:focus { outline: none; box-shadow: none; }
.filter-select select:hover { border-color: rgba(108, 162, 255, 0.35); background: #131a2a; }

.filter-select select {
	appearance: none;
	background: #121828;
	color: var(--text);
	border: 1px solid var(--border);
	border-radius: 10px;
	height: 36px; /* match search bar height */
	line-height: 36px;
	padding: 0 28px 0 10px; /* room for custom arrow */
}

/* Custom dropdown arrow */
.filter-select::after {
	content: "";
	position: absolute;
	right: 10px;
	top: 50%;
	transform: translateY(-50%);
	width: 14px;
	height: 14px;
	background: currentColor;
	-webkit-mask: url('../../assets/icons/arrow_drop_down_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center / contain;
	mask: url('../../assets/icons/arrow_drop_down_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center / contain;
	color: var(--muted);
	pointer-events: none;
}

.search-bar .clear-btn:hover {
	background: rgba(248, 113, 113, 0.15);
	border-color: rgba(248, 113, 113, 0.35);
	color: var(--danger);
}

.app-main {
	padding: 16px clamp(16px, 4vw, 28px) 28px;
}

.search-row {
	display: grid;
	grid-template-columns: auto 1fr;
	align-items: center;
	gap: 10px;
	margin-bottom: 0;
}

.search-row.no-results {
	margin-bottom: 14px;
}

.clip-list {
	list-style: none;
	padding: 0;
	margin: 0;
	display: grid;
	gap: 10px;
	grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
	/* Responsive columns: min 350px, fill available width */
}

.clip-item {
	display: grid;
	grid-template-columns: 1fr auto auto;
	align-items: center;
	gap: 10px;
	padding: 10px 10px;
	background: linear-gradient(180deg, var(--panel), var(--panel-2));
	border: 1px solid var(--border);
	border-radius: 12px;
	box-shadow: var(--shadow);
	transition: transform 0.12s ease, border-color 0.12s ease, box-shadow 0.12s ease;
	cursor: pointer;
	min-width: 0;
	position: relative;
}

.clip-item[data-time]:hover::after {
	content: attr(data-time);
	position: absolute;
	right: 10px;
	top: -28px;
	background: #232b3a;
	color: var(--text);
	font-size: 12px;
	padding: 3px 10px;
	border-radius: 8px;
	box-shadow: 0 2px 8px rgba(0,0,0,0.18);
	white-space: nowrap;
	pointer-events: none;
	z-index: 10;
	opacity: 1;
	transition: opacity 0.15s;
}

.clip-item:hover {
	transform: translateY(-1px);
	border-color: rgba(108, 162, 255, 0.25);
	box-shadow: 0 12px 35px rgba(0, 0, 0, 0.5);
}

.clip-text {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	color: var(--text);
	font-size: 14px;
}

.clip-actions {
	display: flex;
	gap: 8px;
}

.icon-button {
	appearance: none;
	border: 1px solid var(--border);
	color: var(--text);
	background: #111521;
	border-radius: 10px;
	padding: 6px 8px; /* slightly smaller buttons to reduce row height */
	display: inline-flex;
	align-items: center;
	justify-content: center;
	min-width: 32px;
	min-height: 32px;
	cursor: pointer;
	transition: background 0.12s ease, border-color 0.12s ease, transform 0.12s ease, box-shadow 0.12s ease;
}

/* Hide item actions until hover */
.clip-item .icon-button { opacity: 0; pointer-events: none; transition: opacity 0.12s ease, background 0.12s ease, border-color 0.12s ease; }
.clip-item:hover .icon-button { opacity: 1; pointer-events: auto; }
.clip-item:focus-within .icon-button, .clip-item .icon-button:focus-visible { opacity: 1; pointer-events: auto; }

/* Base icon as CSS mask so it inherits currentColor */
.icon { display: inline-block; width: 18px; height: 18px; background: currentColor; flex-shrink: 0; }

/* Named icons mapping to asset masks */
.icon-settings { -webkit-mask: url('../../assets/icons/settings_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/settings_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }
.icon-calendar { -webkit-mask: url('../../assets/icons/calendar_month_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/calendar_month_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }
.icon-search { -webkit-mask: url('../../assets/icons/search_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/search_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }
.icon-close { -webkit-mask: url('../../assets/icons/close_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/close_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }
.icon-copy { -webkit-mask: url('../../assets/icons/content_copy_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/content_copy_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }
.icon-delete { -webkit-mask: url('../../assets/icons/delete_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/delete_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }
.icon-chevron { -webkit-mask: url('../../assets/icons/arrow_drop_down_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/arrow_drop_down_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }
.icon-refresh { -webkit-mask: url('../../assets/icons/refresh_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/refresh_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }
.icon-home { -webkit-mask: url('../../assets/icons/home_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/home_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }

/* Icons default to 18x18; copy/delete use the same size for consistency */
/* (no per-button overrides) */

/* Remove font-based tweaks; masks use solid shapes */

.icon-button:hover {
	background: #131a2a;
	border-color: rgba(255, 255, 255, 0.16);
}

.icon-button:active {
	transform: translateY(0.5px);
}

.icon-button:focus-visible {
	outline: none;
	box-shadow: 0 0 0 3px var(--ring);
}

.copy-btn {
	color: var(--brand);
}

.delete-btn {
	color: var(--danger);
}

/* Remove manual vertical nudges to keep icons aligned by default */

/* Back icon mapping */
.icon-back { -webkit-mask: url('../../assets/icons/arrow_left_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; mask: url('../../assets/icons/arrow_left_24dp_E8EAED_FILL0_wght500_GRAD0_opsz24.svg') no-repeat center/contain; }

/* Reverse colors on hover for action buttons */
.copy-btn:hover {
	background: var(--brand);
	color: #0d1220; /* dark text on brand bg */
	border-color: transparent;
}

.delete-btn:hover {
	background: var(--danger);
	color: #0d1220; /* dark text on danger bg */
	border-color: transparent;
}

.empty-state {
	padding: 32px;
	text-align: center;
	color: var(--muted);
	border: 1px dashed var(--border);
	border-radius: 12px;
	background: linear-gradient(180deg, rgba(21, 25, 35, 0.65), rgba(21, 25, 35, 0.4));
}

.empty-state p {
	margin: 0 0 6px;
	color: var(--text);
}

.search-left { display: inline-flex; align-items: center; }
.search-right { display: inline-flex; gap: 10px; align-items: center; justify-content: flex-end; }

.refresh-btn { color: var(--muted); }
.refresh-btn:hover { color: var(--text); background: rgba(255,255,255,0.06); }

/* Inline fetch error indicator (shares danger color with delete buttons) */
.fetch-error {
	margin-left: 12px;
	color: var(--danger);
	font-size: 13px;
	font-weight: 600;
	white-space: nowrap;
}

.clips-container.is-empty { padding-top: 16px; }

/* Modal title tweaks to allow inline date */
.modal-title { display: flex; align-items: baseline; gap: 6px; }


/* Settings page */
.settings-page {
	display: flex;
	flex-direction: column;
	gap: 12px;
	max-width: 600px;
	padding: 12px 0;
}

/* Delete-all button reuses delete icon button styling but allows label + icon */
.delete-all-btn {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 8px 14px; /* slightly larger for text */
	font-weight: 600;
	min-width: unset; /* allow natural width */
}

/* Hover style already covered by .delete-btn:hover */

/* Date separator styles */
.date-separator {
	list-style: none;
	margin: 18px 0 8px;
	padding: 0 2px;
	color: var(--muted);
	font-size: 11.5px;
	letter-spacing: 0.2px;
	text-transform: none;
	grid-column: 1 / -1;
}
.clip-item-empty {
	pointer-events: none;
	background: none !important;
	border: none !important;
	box-shadow: none !important;
	visibility: hidden;
}

.date-separator.is-collapsed {
	margin-bottom: 2px; /* tighter spacing when collapsed */
}

.group-toggle {
	all: unset;
	display: inline-flex;
	align-items: center;
	gap: 8px;
	cursor: pointer;
	color: var(--muted);
	padding: 4px 6px;
	border-radius: 8px;
}

.group-toggle:hover {
	color: var(--text);
	background: rgba(255,255,255,0.04);
}

.group-count {
	margin-left: 6px;
	color: var(--muted);
	font-size: 11px;
}

.chevron { display: inline-flex; transition: transform 0.15s ease; }
.chevron.collapsed { transform: rotate(-90deg); }

/* Modal styles */
.modal-overlay {
	position: fixed;
	inset: 0;
	background: rgba(0, 0, 0, 0.4);
	backdrop-filter: blur(4px) saturate(120%);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 100;
}

.modal {
	width: min(800px, 90vw);
	max-height: min(80vh, 800px);
	background: linear-gradient(180deg, var(--panel), var(--panel-2));
	border: 1px solid var(--border);
	border-radius: 12px;
	box-shadow: var(--shadow);
	overflow: hidden;
}

.modal-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 10px 12px;
	border-bottom: 1px solid var(--border);
}

.modal-title { margin: 0; font-size: 14px; color: var(--text); }

.modal-body {
	padding: 12px;
	color: var(--text);
	max-height: calc(min(80vh, 800px) - 48px);
	overflow: auto;
	white-space: pre-wrap;
	word-wrap: break-word;
}
